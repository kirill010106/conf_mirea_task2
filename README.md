# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤ Ubuntu

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤ Ubuntu (apt) —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì¶ –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–∞–∫–µ—Ç–æ–≤ Ubuntu –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- üîç –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –ø–æ–º–æ—â—å—é –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ DFS
- üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- üìä –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ (—Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
- üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Graphviz DOT
- üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∞–º–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ó–∞–ø—É—Å–∫ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
go run main.go

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
go run main.go config_gpp.csv

# –°–±–æ—Ä–∫–∞
go build -o dependency-analyzer main.go
```

## –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (CSV)

```csv
package_name,curl
repository_url,http://archive.ubuntu.com/ubuntu/dists/focal/main/binary-amd64/Packages.gz
test_mode,false
version,7.68.0-1ubuntu2.24
max_depth,3
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `package_name` - –∏–º—è –ø–∞–∫–µ—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `repository_url` - URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ –ø—É—Ç—å –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ñ–∞–π–ª—É
- `test_mode` - true –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, false –¥–ª—è HTTP
- `version` - –≤–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞ (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ = –ª—é–±–∞—è)
- `max_depth` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞ (1-100)

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã

### –≠—Ç–∞–ø 1: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ CSV  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏  

### –≠—Ç–∞–ø 2: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
‚úÖ HTTP –∑–∞–≥—Ä—É–∑–∫–∞ Packages.gz –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Ubuntu  
‚úÖ –†–∞—Å–ø–∞–∫–æ–≤–∫–∞ gzip  
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–æ—Ä–º–∞—Ç–∞ Debian control  
‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π  

### –≠—Ç–∞–ø 3: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
‚úÖ **–ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π DFS –±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏** (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–µ–∫–∞)  
‚úÖ –£—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥–ª—É–±–∏–Ω—ã `max_depth`  
‚úÖ **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**  
‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∞–º–∏ (A, B, C...)  

### –≠—Ç–∞–ø 4: –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
‚úÖ **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** (–∞–ª–≥–æ—Ä–∏—Ç–º –ö–∞–Ω–∞)  
‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ —Ü–∏–∫–ª–∞—Ö  
‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º APT (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)  

### –≠—Ç–∞–ø 5: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è **Graphviz DOT** —Ñ–∞–π–ª–æ–≤  
‚úÖ –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —É–∑–ª–æ–≤:
  - üü¢ –¶–µ–ª–µ–≤–æ–π –ø–∞–∫–µ—Ç
  - üîµ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  - üî¥ –£–∑–ª—ã –≤ —Ü–∏–∫–ª–∞—Ö
  - üü° –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞
‚úÖ –õ–µ–≥–µ–Ω–¥–∞ –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Ä—ë–±–µ—Ä  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PNG (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Graphviz)  

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç–æ–≤—ã–π –≥—Ä–∞—Ñ
```bash
go run main.go config_test_simple.csv
```

### –ü—Ä–∏–º–µ—Ä 2: –ì—Ä–∞—Ñ —Å —Ü–∏–∫–ª–∞–º–∏
```bash
go run main.go config_test_cyclic.csv
```

### –ü—Ä–∏–º–µ—Ä 3: –†–µ–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç g++
```bash
go run main.go config_gpp.csv
```

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è DOT-—Ñ–∞–π–ª `graph_<package>.dot`.

**–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PNG —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Graphviz:**
```bash
# Windows
choco install graphviz

# Ubuntu/Debian
sudo apt install graphviz

# macOS
brew install graphviz
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**
```bash
dot -Tpng graph_g++.dot -o graph_g++.png
```

## –ö–ª—é—á–µ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### 1. –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π DFS (–±–µ–∑ —Ä–µ–∫—É—Ä—Å–∏–∏)
```go
stack := []StackItem{{PackageName: root, Depth: 0, Path: []string{}}}
for len(stack) > 0 {
    item := stack[len(stack)-1]
    stack = stack[:len(stack)-1]
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–∑–ª–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Å—Ç–µ–∫
}
```

### 2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤
–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—É—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ.

### 3. –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ö–∞–Ω)
```
1. –ü–æ–¥—Å—á–µ—Ç –≤—Ö–æ–¥—è—â–∏—Ö —Å—Ç–µ–ø–µ–Ω–µ–π
2. –û—á–µ—Ä–µ–¥—å —É–∑–ª–æ–≤ —Å –Ω—É–ª–µ–≤–æ–π —Å—Ç–µ–ø–µ–Ω—å—é
3. –£–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö —É–∑–ª–æ–≤
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ —à—Ç–∞—Ç–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

| –§—É–Ω–∫—Ü–∏—è | –ù–∞—à –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä | apt-cache | debtree |
|---------|----------------|-----------|---------|
| –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ | ‚úÖ | ‚ùå | ‚úÖ |
| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã | ‚úÖ | ‚ùå | ‚ùå |
| –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ | ‚úÖ | ‚ùå | ‚úÖ |
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | ‚úÖ | ‚ùå | ‚úÖ |
| –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ | ‚úÖ | ‚ùå | ‚ùå |
| Recommends | ‚ùå | ‚úÖ | ‚úÖ |
| Pre-Depends | ‚ùå | ‚úÖ | ‚úÖ |

## –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" —Å—Ç—É–¥–µ–Ω—Ç–æ–º –≤—Ç–æ—Ä–æ–≥–æ –∫—É—Ä—Å–∞ –ú–ò–†–≠–ê –≥—Ä—É–ø–ø—ã –ò–ö–ë–û-20-24 –ü–ª–∞—Ö–æ—Ç–Ω—ã–º –ö–∏—Ä–∏–ª–ª–æ–º.
