# Сравнение порядка установки пакетов с реальным менеджером пакетов APT

## Тестовые графы

### 1. Простой граф (config_test_simple.csv)
**Структура зависимостей:**
```
A -> B, C
B -> D
C -> D, E
E -> F
```

**Порядок установки нашего анализатора:**
1. D
2. F
3. B
4. E
5. C
6. A (целевой пакет)

**Объяснение:**
- D и F не имеют зависимостей, устанавливаются первыми
- B зависит только от D, устанавливается после D
- E зависит только от F, устанавливается после F
- C зависит от D и E, устанавливается после обоих
- A зависит от B и C, устанавливается последним

### 2. Циклический граф (config_test_cyclic.csv)
**Структура зависимостей:**
```
A -> B, C
B -> D
C -> D
D -> A  (цикл!)
```

**Результат:**
Ошибка: невозможно определить порядок установки из-за циклических зависимостей.

**Обнаруженный цикл:** A -> C -> D -> A

**Объяснение:**
В реальных системах циклические зависимости либо запрещены, либо обрабатываются
специальным образом (например, с использованием виртуальных пакетов или 
промежуточных состояний).

### 3. Глубокий граф (config_test_deep.csv)
**Структура зависимостей:**
```
A -> B -> C -> D -> E -> F
```

**Порядок установки:**
1. F
2. E
3. D
4. C
5. B
6. A (целевой пакет)

**Объяснение:**
Линейная цепочка зависимостей устанавливается в обратном порядке -
от самой глубокой зависимости к целевому пакету.

## Сравнение с реальным APT (пакет curl)

### Наш анализатор
При установке curl с максимальной глубиной 3, мы получаем 24 пакета.
Порядок установки определяется топологической сортировкой графа зависимостей.

### Реальный APT

Для проверки реального порядка можно выполнить:
```bash
apt-get -s install curl
```

Или посмотреть зависимости:
```bash
apt-cache depends curl
```

### Основные отличия:

1. **Версии пакетов**
   - Наш анализатор: берет первую доступную версию из репозитория
   - APT: выбирает версию на основе приоритетов и политик

2. **Рекомендуемые пакеты (Recommends)**
   - Наш анализатор: учитывает только обязательные зависимости (Depends)
   - APT: может устанавливать рекомендуемые пакеты по умолчанию

3. **Альтернативные зависимости**
   - Наш анализатор: берет первую альтернативу
   - APT: выбирает на основе уже установленных пакетов и предпочтений

4. **Виртуальные пакеты**
   - Наш анализатор: может пропускать виртуальные пакеты
   - APT: корректно разрешает виртуальные пакеты в реальные

5. **Pre-Depends**
   - Наш анализатор: не учитывает Pre-Depends
   - APT: устанавливает Pre-Depends до основного пакета

6. **Порядок установки**
   - Наш анализатор: строгая топологическая сортировка
   - APT: может группировать пакеты для оптимизации

7. **Обработка конфликтов**
   - Наш анализатор: не учитывает поля Conflicts/Breaks
   - APT: разрешает конфликты и выбирает совместимые версии

### Вывод

Наш анализатор корректно определяет порядок установки для простых случаев
без циклов. Основные расхождения с реальным APT связаны с:
- Упрощенной обработкой альтернативных зависимостей
- Отсутствием учета рекомендуемых пакетов
- Отсутствием разрешения виртуальных пакетов
- Отсутствием учета конфликтов и Pre-Depends

Для учебных целей и демонстрации алгоритма DFS и топологической сортировки
такая реализация является достаточной и корректной.
